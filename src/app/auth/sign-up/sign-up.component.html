<main >
    <form [formGroup]="signupForm" class="signup-form" (ngSubmit)="doSignup()">
    
        <mat-card class="signup-form__card">
    
            <mat-card-header class="signup-form__card__header">
                <mat-card-title class="signup-form__card__header__title" tabindex="0">Welcome to Demo!</mat-card-title>
            </mat-card-header>
    
            <mat-card-content class="signup-form__card__content">
                
                    <mat-form-field  appearance="outline" class="signup-form__card__content__form-control">
                        <mat-label>Enter your first name</mat-label>
                        <input matInput type="text" formControlName="firstName" placeholder="Your first name">

                        <!-- we are checking the form only on blur events, not on every input change,
                        thus we can avoid add additional check,if input is touched or dirty -->
                        <mat-error 
                        *ngIf="signupForm.controls.firstName.errors?.['required'] ">
                        First name is required
                        </mat-error>

                    </mat-form-field>
    
                    <mat-form-field appearance="outline" class="signup-form__card__content__form-control" >
                        <mat-label>Enter your last name</mat-label>
                        <input matInput type="text" formControlName="lastName" placeholder="Your last name">
    
                        <mat-error 
                        *ngIf="signupForm.controls.lastName.errors?.['required'] ">
                        Last name is required
                        </mat-error>
    
                    </mat-form-field>
    
                    <mat-form-field appearance="outline"  class="signup-form__card__content__form-control">
                        <mat-label>Enter your email</mat-label>
                        <input matInput type="email" formControlName="email" placeholder="Your email">
    
                        <mat-error 
                        *ngIf="signupForm.controls.email.errors?.['required'] ">
                        Email is required
                        </mat-error>
    
                        <mat-error 
                        *ngIf="signupForm.controls.email.errors?.['email'] ">
                        Please enter a valid email
                        </mat-error>
    
                    </mat-form-field>
            
            </mat-card-content>
    
            <!-- Disabling & showing loading indicating while the api is in progress,
            so that user is aware, that sign up process is in progress, and doesn't click the
            button multiple times -->
            <mat-card-actions class="signup-form__card__actions">
                <button 
                class="signup-form__card__actions__button"
                [disabled]="(authService.authenticatingUser$ | async)"
                [class.spinner]="(authService.authenticatingUser$ | async)"
                type="submit" 
                mat-raised-button 
                color="primary"
                >
                Sign Up
                </button>
            </mat-card-actions>
    
        </mat-card>
    
    </form>
</main>